{"version":3,"sources":["2-features/2-profile/Profile.module.css","1-main/1-ui/header/Header.module.css","1-main/1-ui/common/Pagination.module.css","2-features/1-auth/2-signUp/sign-up-common/CustomNavLink/CustomNavLink.module.css","1-main/1-ui/App.module.css","2-features/5-modal/Modal.module.css","2-features/1-auth/2-signUp/sign-up-common/SuperInputText/SuperInputText.tsx","2-features/1-auth/2-signUp/sign-up-common/SuperButton/SuperButton.tsx","2-features/1-auth/2-signUp/sign-up-common/SuperCheckbox/SuperCheckbox.tsx","2-features/0-test/Test.tsx","2-features/1-auth/2-signUp/sign-up-common/Error404/Error404.tsx","1-main/3-dal/loginAPI.ts","1-main/3-dal/profileAPI.ts","1-main/2-bll/profileReducer.ts","1-main/2-bll/authReducer.ts","2-features/1-auth/1-login/Login.tsx","1-main/3-dal/sign-up-api.ts","1-main/2-bll/signUpReducer.ts","2-features/1-auth/2-signUp/SignUp.tsx","2-features/2-profile/1-ProfileCard/ProfileCard.tsx","2-features/2-profile/THead.tsx","1-main/3-dal/packsAPI.ts","1-main/2-bll/packsReducer.ts","2-features/2-profile/TBody.tsx","2-features/2-profile/Table.tsx","2-features/2-profile/Search.tsx","2-features/2-profile/Header.tsx","2-features/2-profile/Range.tsx","2-features/2-profile/Pagination.tsx","1-main/1-ui/common/Preloader.tsx","2-features/2-profile/Profile.tsx","1-main/3-dal/restoreAPI.ts","1-main/2-bll/restoreReducer.ts","2-features/restore/1-resetPassword/ResetPassword.tsx","2-features/restore/2-newPassword/NewPassword.tsx","2-features/restore/1-resetPassword/CheckEmail.tsx","1-main/1-ui/common/RadioOptions.tsx","1-main/1-ui/common/SearchBar.tsx","1-main/1-ui/common/Pagination.tsx","1-main/1-ui/utils/paginationAlgorithm.ts","1-main/1-ui/common/DoubleRange.tsx","1-main/1-ui/common/RangeFilter.tsx","2-features/5-modal/Modal.tsx","2-features/5-modal/children/ModalWithOneInput.tsx","2-features/3-packs/Packs.tsx","1-main/3-dal/cardsAPI.ts","1-main/2-bll/cardsReducer.ts","1-main/1-ui/utils/formatDate.ts","2-features/5-modal/children/ModalWithTwoInput.tsx","2-features/3-cards/Cards.tsx","1-main/1-ui/routes/Routes.tsx","2-features/1-auth/2-signUp/sign-up-common/CustomNavLink/CustomNavLink.tsx","1-main/1-ui/header/Header.tsx","1-main/1-ui/routes/UnauthorizedRoutes.tsx","1-main/1-ui/Main.tsx","1-main/1-ui/App.tsx","reportWebVitals.ts","1-main/2-bll/store.ts","index.tsx","2-features/1-auth/1-login/Login.module.css","2-features/restore/Restore.module.css","2-features/1-auth/2-signUp/sign-up-common/SuperInputText/SuperInputText.module.css","2-features/3-cards/Cards.module.css","2-features/1-auth/2-signUp/SignUp.module.css","2-features/1-auth/2-signUp/sign-up-common/SuperButton/SuperButton.module.css","2-features/1-auth/2-signUp/sign-up-common/Error404/Error404.module.css","2-features/1-auth/2-signUp/sign-up-common/SuperCheckbox/SuperCheckbox.module.css","1-main/1-ui/common/SearchBar.module.css"],"names":["module","exports","SuperInputText","React","memo","placeholder","type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","restProps","console","log","finalSpanClassName","s","input","errorInput","superInput","group","required","e","currentTarget","value","key","SuperButton","color","finalClassName","default","SuperCheckbox","onChangeChecked","children","finalInputClassName","checkbox","checked","Test","useState","text","setText","showAlert","alert","setChecked","disabled","onClick","Error404","classes","container","main","fof","instance","axios","create","baseURL","withCredentials","authAPI","email","password","rememberMe","post","delete","profileAPI","name","avatar","put","initialState","setUserDataAC","updateUserDataTC","dispatch","then","res","updateUserDataAC","data","updatedUser","catch","userId","isAuth","isLoggedIn","isLoading","isInitialized","isLoggedInChange","setError","setIsLoading","setAuthUserData","Login","useDispatch","useSelector","state","auth","setEmail","setPassword","setRememberMe","to","style","loginBlock","loginList","loginTitle","loginInput","rememberBlock","PATH","RESET_PASSWORD","forgotLink","activeClassName","forgotLincActive","btnBlock","loginData","_id","loginText","SIGN_UP","signUpLink","signUpLinkActive","signUpApi","setSignUpErrorAC","SignUp","signUp","signUpError","confirmPassword","setConfirmPassword","onSignUp","rej","response","signUpTC","signUpContainer","onSubmit","LOGIN","signUpForm","buttonsContainer","ProfileCard","props","editModeAvatar","setEditModeAvatar","editModeName","setEditModeName","setAvatar","setName","profile","onBlur","autoFocus","image","onDoubleClick","src","alt","description","THead","listItem","headers","map","h","packsAPI","queryString","get","cardsPack","packId","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","page","pageCount","pages","queryParams","user_id","packName","min","max","sortPacks","setPacksUserId","id","setPacksNameSearch","setSortPacksByDate","sortOption","getPacksTC","getState","optionalsObj","packs","optionalString","property","concat","finalQueryString","slice","Math","floor","addPackTC","TBody","loggedUserId","items","item","index","lastUpdated","updated","userName","user_name","cardsCount","btn","deletePackTC","marginLeft","updatePackTC","Table","table","Search","Header","title","Range","setValue","range","PaginationTest","pagination","Preloader","Profile","useEffect","sidebar","content","header","footer","restoreAPI","requestData","restoreEmailSendSuccess","newPasswordSuccess","setReceiverEmailAC","changePasswordSuccessAC","success","ResetPassword","restore","emailAddress","setEmailAddress","CHECK_EMAIL","restoreContainer","restoreForm","preventDefault","a","requestObj","from","message","NewPassword","token","useParams","changePasswordSuccess","newPassword","setNewPassword","resetPasswordToken","setNewPasswordTC","CheckEmail","emailOfReceiver","SuperRadio","options","onChangeOption","onChangeCallback","mappedOptions","o","i","SearchBar","searchValue","onChangeSearchValue","onClickSearch","onClickReset","searchOption","setSearchOption","searchOptions","styles","searchInput","RadioOptions","letterInput","Pagination","pageCountArray","setPageCountCallback","setPage","totalItems","currentPage","pageSize","pageCountButtons","pc","random","pagesTotalCount","push","startPage","endPage","maxPages","totalPages","ceil","maxPagesBeforeCurrentPage","maxPagesAfterCurrentPage","startIndex","endIndex","Array","keys","paginate","length","pagesElements","p","pagesFooter","DoubleRange","onChangeRange","step","width","RangeFilter","rangeContainer","minValue","maxValue","onChangeRangeDouble","onClickGradeRangeFilter","Modal","active","modal","setActive","modalContent","stopPropagation","ModalWithOneInput","packValue","setPackValue","childrenContainer","fieldset","btnContainer","cancelBtn","setModalActive","saveBtn","action","Packs","modalActive","totalPacks","setSearchValue","minCardValue","setMinCardValue","maxCardValue","setMaxCardValue","PROFILE","padding","num1","num2","toString","headerFeatures","sortButtons","setPacksPageCount","setPacksCurrentPage","cardsAPI","cardsPack_id","optionals","initState","cards","queryParamsObject","cardAnswer","cardQuestion","sortCards","cardsTotalCount","packUserId","init","fetchCards","setSortCards","setQuestionSearch","question","setAnswerSearch","answer","fetchCardsTC","addCardTC","card","formatDate","date","day","month","year","ModalWithTwoInput","questionValue","setQuestionValue","answerValue","setAnswerValue","Cards","setMinValue","setMaxValue","deleteCard","cardId","deleteCardTC","editCard","editCardTC","cardsElements","grade","tableContainer","setPageCount","setCurrentPage","PACKS","NEW_PASSWORD","CARDS","TEST","Routes","path","exact","render","CustomNavLink","navLink","UnauthorizedRoutes","Main","App","isInit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6575717.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Profile_page__1ig7T\",\"sidebar\":\"Profile_sidebar__3FVKA\",\"profile\":\"Profile_profile__1ckON\",\"image\":\"Profile_image__3RvGR\",\"name\":\"Profile_name__vWPKS\",\"description\":\"Profile_description__2M_zJ\",\"range\":\"Profile_range__3tOIG\",\"content\":\"Profile_content__2FNVr\",\"header\":\"Profile_header__ykEE7\",\"headerFeatures\":\"Profile_headerFeatures__3M7YB\",\"main\":\"Profile_main__1Dgqn\",\"sortButtons\":\"Profile_sortButtons__3gjqn\",\"listItem\":\"Profile_listItem__2adLH\",\"table\":\"Profile_table__3AEAh\",\"btn\":\"Profile_btn__2S_sp\",\"footer\":\"Profile_footer__3sIyv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2AAZ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesFooter\":\"Pagination_pagesFooter__1bBAE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"CustomNavLink_navLink__1zMvl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__iX4cl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3L-_f\",\"active\":\"Modal_active__2dcei\",\"modalContent\":\"Modal_modalContent__1rEM3\",\"childrenContainer\":\"Modal_childrenContainer__5TrOR\",\"fieldset\":\"Modal_fieldset__Rd8xM\",\"cancelBtn\":\"Modal_cancelBtn__3pQXN\",\"saveBtn\":\"Modal_saveBtn__2xmPL\",\"btnContainer\":\"Modal_btnContainer__3JP_j\"};","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react'\r\nimport s from './SuperInputText.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperInputTextPropsType = DefaultInputPropsType & {\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    error?: string\r\n    spanClassName?: string\r\n    type?: string\r\n}\r\n\r\nconst SuperInputText: React.FC<SuperInputTextPropsType> = React.memo((\r\n    {\r\n        placeholder, type,\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter,\r\n        error,\r\n        className, spanClassName,\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    console.log(placeholder)\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n    }\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n\r\n        onEnter // если есть пропс onEnter\r\n        && e.key === 'Enter' // и если нажата кнопка Enter\r\n        && onEnter() // то вызвать его\r\n    }\r\n\r\n    const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : ''}`\r\n    const finalInputClassName = `${s.input} ${error ? s.errorInput : s.superInput} ${className}`\r\n\r\n    return (\r\n        <div className={s.group}>\r\n            <input\r\n                type={type}\r\n                required\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                // className={finalInputClassName}\r\n                // placeholder={placeholder}\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\r\n            />\r\n            <label>{placeholder}</label>\r\n            {error && <span className={finalSpanClassName}>{error}</span>}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default SuperInputText\r\n","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport s from './SuperButton.module.css'\r\n\r\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    red?: boolean\r\n    color?: 'white' | 'blue' | 'red'\r\n}\r\n\r\nconst SuperButton: React.FC<SuperButtonPropsType> = React.memo((\r\n    {\r\n        color, className,\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n    const finalClassName = `${color ? s[color] : s.default} ${s.default}`\r\n    console.log('SB')\r\n    return (\r\n        <button\r\n            className={finalClassName}\r\n            {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\r\n        />\r\n    )\r\n})\r\n\r\nexport default SuperButton\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport s from './SuperCheckbox.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n}\r\n\r\nconst SuperCheckbox: React.FC<SuperCheckboxPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,\r\n        children, // в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked)\r\n    }\r\n\r\n    const finalInputClassName = `${s.checkbox} ${className ? className : ''}`\r\n\r\n    return (\r\n        <label>\r\n            <input\r\n                type={'checkbox'}\r\n                onChange={onChangeCallback}\r\n                className={finalInputClassName}\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            {children && <span className={s.spanClassName}>{children}</span>}\r\n        </label> // благодаря label нажатие на спан передастся в инпут\r\n    )\r\n}\r\n\r\nexport default SuperCheckbox\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport SuperInputText from \"../1-auth/2-signUp/sign-up-common/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../1-auth/2-signUp/sign-up-common/SuperButton/SuperButton\";\r\nimport SuperCheckbox from \"../1-auth/2-signUp/sign-up-common/SuperCheckbox/SuperCheckbox\";\r\n\r\n\r\nconst Test = () => {\r\n    const [text, setText] = useState<string>('')\r\n    const error = text ? '' : 'error'\r\n\r\n    const showAlert = () => {\r\n        if (error) {\r\n            alert('введите текст...')\r\n        } else {\r\n            alert(text)\r\n        }\r\n    }\r\n\r\n    const [checked, setChecked] = useState<boolean>(false)\r\n\r\n    const testOnChange = (e: ChangeEvent<HTMLInputElement>) => setChecked(e.currentTarget.checked)\r\n    return (\r\n        <div>\r\n            <h1>test</h1>\r\n            <SuperInputText\r\n                value={text}\r\n                onChangeText={setText}\r\n                onEnter={showAlert}\r\n                error={error}\r\n                // spanClassName={s.testSpanError}\r\n            />\r\n            <SuperButton>\r\n                default\r\n            </SuperButton>\r\n\r\n            <SuperButton disabled>\r\n                disabled\r\n            </SuperButton>\r\n\r\n            <SuperButton\r\n                // red // пропсу с булевым значением не обязательно указывать true\r\n                onClick={showAlert}\r\n            >\r\n                delete {/*// название кнопки попадёт в children*/}\r\n            </SuperButton>\r\n\r\n            <SuperCheckbox\r\n                checked={checked}\r\n                onChangeChecked={setChecked}\r\n            >\r\n                some text\r\n            </SuperCheckbox>\r\n\r\n\r\n            <SuperCheckbox checked={checked} onChange={testOnChange}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Test;","import React from 'react'\r\nimport classes from './Error404.module.css'\r\n\r\nfunction Error404() {\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.main}>\r\n                <div className={classes.fof}>\r\n                    <h1>Error 404</h1>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0',\r\n    withCredentials: true,\r\n})\r\n\r\nexport const authAPI = {\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post<LoginResponseType>('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete<InfoResponseType>('auth/me')\r\n    },\r\n    me() {\r\n        return instance.post<ResponseType>('auth/me', {})\r\n    },\r\n}\r\n\r\n// types\r\nexport type LoginResponseType = {\r\n    avatar: string,\r\n    created: string,\r\n    deviceTokens: DeviceTokenType [],\r\n    email: string,\r\n    isAdmin: boolean,\r\n    name: string,\r\n    publicCardPacksCount: number,\r\n    rememberMe: boolean,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n    updated: string,\r\n    verified: boolean,\r\n    __v: number,\r\n    _id: string,\r\n}\r\ntype DeviceTokenType = {\r\n    _id: string,\r\n    device: string,\r\n}\r\nexport type InfoResponseType = {\r\n    info: string,\r\n    error?: string\r\n}\r\nexport type ResponseType = UserType & {\r\n    created: string,\r\n    deviceTokens?: DeviceTokenType [],\r\n    isAdmin: boolean,\r\n    rememberMe: boolean,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n    updated: string,\r\n    verified: boolean,\r\n    error?: string,\r\n}\r\nexport type UserType = {\r\n    _id: string,\r\n    email: string,\r\n    name: string,\r\n    avatar: string,\r\n    publicCardPacksCount: number,\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n})\r\n\r\nexport const profileAPI = {\r\n    updateProfile(name: string, avatar: string) {\r\n        return instance.put<UpdateProfileResponseType>(`auth/me`, {name: name, avatar: avatar})\r\n    },\r\n}\r\n\r\n// types\r\nexport type UpdateProfileResponseType = {\r\n    updatedUser: {\r\n        name: string\r\n        avatar: string\r\n    }\r\n}","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../3-dal/profileAPI\";\r\n\r\nconst initialState: initialStateType = {\r\n    name: '',\r\n    avatar: ''\r\n}\r\n\r\nexport const profileReducer = (state: initialStateType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case \"SET-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                name: action.name,\r\n                avatar: action.avatar,\r\n            }\r\n        }\r\n        case \"SET-UPDATED-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                name: action.name,\r\n                avatar: action.avatar,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// actions\r\nexport const setUserDataAC = (name: string, avatar: string) => ({type: 'SET-USER-DATA', name, avatar} as const)\r\nexport const updateUserDataAC = (name: string, avatar: string) => ({type: 'SET-UPDATED-USER-DATA', name, avatar} as const)\r\n\r\n// thunks\r\nexport const updateUserDataTC = (name: string, avatar: string) => (dispatch: Dispatch<ActionsType, null>) => {\r\n    profileAPI.updateProfile(name, avatar)\r\n        .then((res) => {\r\n            dispatch(updateUserDataAC(res.data.updatedUser.name, res.data.updatedUser.avatar))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\n\r\n// types\r\ntype initialStateType = {\r\n    name: string\r\n    avatar: string\r\n}\r\n\r\ntype ActionsType = SetUserDataActionType | UpdateUserDataActionType\r\n\r\nexport type SetUserDataActionType = ReturnType<typeof setUserDataAC>\r\ntype UpdateUserDataActionType = ReturnType<typeof updateUserDataAC>\r\n","import {authAPI} from '../3-dal/loginAPI';\r\nimport {Dispatch} from 'redux';\r\nimport {setUserDataAC, SetUserDataActionType} from \"./profileReducer\";\r\n\r\n\r\nconst initialState = {\r\n    userId: '',\r\n    email: '',\r\n    isAuth: false,\r\n    isLoggedIn: false,\r\n    error: '',\r\n    isLoading: false,\r\n    isInitialized: false\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: ActionsType): typeof initialState => {\r\n    switch (action.type) {\r\n        case \"IS-LOGGED-IN-CHANGE\": {\r\n            return {\r\n                ...state, isLoggedIn: action.isLoggedIn\r\n            }\r\n        }\r\n        case \"SET-ERROR\": {\r\n            return {\r\n                ...state, error: action.error\r\n            }\r\n        }\r\n        case \"SET-IS-LOADING\": {\r\n            return {\r\n                ...state, isLoading: action.isLoading\r\n            }\r\n        }\r\n        case \"SET-AUTH-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                email: action.email,\r\n                isAuth: action.isAuth\r\n            }\r\n        }\r\n        case \"SET-IS-INITIALIZED\": {\r\n            return {...state, isInitialized: action.isInit}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//AC\r\nexport const isLoggedInChange = (isLoggedIn: boolean) => ({type: 'IS-LOGGED-IN-CHANGE', isLoggedIn}) as const\r\nexport const setError = (error: string) => ({type: 'SET-ERROR', error}) as const\r\nexport const setIsLoading = (isLoading: boolean) => ({type: 'SET-IS-LOADING', isLoading}) as const\r\nexport const setAuthUserData = (userId: string, email: string, isAuth: boolean) => ({\r\n    type: 'SET-AUTH-USER-DATA',\r\n    userId: userId,\r\n    email: email,\r\n    isAuth: isAuth\r\n}) as const\r\nexport const setIsInitialized = (isInit: boolean) => ({type: 'SET-IS-INITIALIZED', isInit}) as const\r\n\r\n//Thunks\r\nexport const loginSuccess = (loginData: LoginDataType) => (dispatch: Dispatch<ActionsType, null>) => {\r\n    dispatch(setIsLoading(true))\r\n    authAPI.login(loginData.email, loginData.password, loginData.rememberMe)\r\n        .then((res) => {\r\n            dispatch(isLoggedInChange(true))\r\n            dispatch(setIsLoading(false))\r\n            // dispatch(getMe())\r\n            dispatch(setAuthUserData(res.data._id, res.data.email, true))\r\n            dispatch(setUserDataAC(res.data.name, res.data.avatar))\r\n            dispatch(setError(''))\r\n        })\r\n        .catch(() => {\r\n            dispatch(isLoggedInChange(false))\r\n            dispatch(setIsLoading(false))\r\n        })\r\n}\r\nexport const logoutSuccess = () => (dispatch: Dispatch<ActionsType, null>) => {\r\n    dispatch(setAuthUserData('', '', false))\r\n    dispatch(setUserDataAC('', ''))\r\n    authAPI.logout()\r\n        .then(() => {\r\n        })\r\n        .catch((error) => {\r\n            dispatch(setError(error.response.data.error))\r\n        })\r\n}\r\nexport const getMe = () => async (dispatch: any) => {\r\n    try {\r\n        const res = await authAPI.me()\r\n        let {_id, email} = res.data\r\n        dispatch(setAuthUserData(_id, email, true))\r\n        dispatch(setUserDataAC(res.data.name, res.data.avatar))\r\n    } catch(e) {\r\n        console.log(e)\r\n    } finally {\r\n        dispatch(setIsInitialized(true))\r\n    }\r\n\r\n\r\n}\r\n// types\r\ntype ActionsType = ReturnType<typeof isLoggedInChange>\r\n    | ReturnType<typeof setError>\r\n    | ReturnType<typeof setIsLoading>\r\n    | ReturnType<typeof setAuthUserData>\r\n    | SetUserDataActionType\r\n    | ReturnType<typeof setIsInitialized>\r\n\r\ntype LoginDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n}\r\n\r\n\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport {PATH} from '../../../1-main/1-ui/routes/Routes';\r\nimport style from './Login.module.css'\r\nimport {loginSuccess} from '../../../1-main/2-bll/authReducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../1-main/2-bll/store';\r\nimport SuperCheckbox from '../2-signUp/sign-up-common/SuperCheckbox/SuperCheckbox';\r\nimport SuperButton from '../2-signUp/sign-up-common/SuperButton/SuperButton';\r\nimport SuperInputText from '../2-signUp/sign-up-common/SuperInputText/SuperInputText';\r\n\r\n\r\nfunction Login() {\r\n    const dispatch = useDispatch()\r\n    const isAuth = useSelector<AppRootStateType, boolean>(state => state.auth.isAuth)\r\n    const error = useSelector<AppRootStateType, string>(state => state.auth.error)\r\n    const isLoading = useSelector<AppRootStateType, boolean>(state => state.auth.isLoading)\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [rememberMe, setRememberMe] = useState(false)\r\n\r\n    const emailHandler = (e: ChangeEvent<HTMLInputElement>) => setEmail(e.currentTarget.value)\r\n    const passwordHandler = (e: ChangeEvent<HTMLInputElement>) => setPassword(e.currentTarget.value)\r\n    const rememberMeHandler = () => setRememberMe(!rememberMe)\r\n    const loginHandler = () => {\r\n        dispatch(loginSuccess({email, password, rememberMe}))\r\n    }\r\n    if(isAuth){\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return (\r\n        <div className={style.loginBlock}>\r\n            <div className={style.loginList}>\r\n                <h1 className={style.loginTitle}>Login</h1>\r\n                {isLoading ? <div style={{color: 'green'}}>Loading...</div> : ''}\r\n                <SuperInputText className={style.loginInput} placeholder={'Email'} value={email} onChange={emailHandler}/>\r\n                <SuperInputText className={style.loginInput} placeholder={'Password'} value={password} onChange={passwordHandler}/>\r\n                <div className={style.rememberBlock}>\r\n                    <SuperCheckbox checked={rememberMe} onClick={rememberMeHandler}>Remember me</SuperCheckbox>\r\n                    <NavLink to={PATH.RESET_PASSWORD} className={style.forgotLink} activeClassName={style.forgotLincActive}>Forgot password</NavLink>\r\n                </div>\r\n                <div className={style.btnBlock}>\r\n                    <SuperButton color={'blue'} onClick={loginHandler}>Login</SuperButton>\r\n                    <div className={style.loginText}>Don't have an account?</div>\r\n                    <NavLink to={PATH.SIGN_UP} className={style.signUpLink} activeClassName={style.signUpLinkActive}>Sign Up</NavLink>\r\n\r\n                </div>\r\n                {error ? <div style={{color: 'red'}}>{error}</div> : ''}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n})\r\n\r\n// api\r\nexport const signUpApi = {\r\n    createNewAccount(email: string, password: string) {\r\n        return instance.post('auth/register', {email, password});\r\n    }\r\n}\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {signUpApi} from \"../3-dal/sign-up-api\";\r\n\r\ntype initialStateType = {\r\n    isLoggedIn: boolean\r\n    error: null | string\r\n}\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    error: '',\r\n}\r\n\r\nexport const signUpReducer = (state: initialStateType = initialState, action: ActionsType):initialStateType => {\r\n    switch (action.type) {\r\n        case \"SET-IS_LOGGED_IN\":\r\n            return {...state, isLoggedIn: action.value}\r\n        case \"SET-ERROR\":\r\n            return {...state, error: action.error}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setIsLoggedInAC = (value: boolean) => {\r\n    return {type: 'SET-IS_LOGGED_IN', value} as const\r\n}\r\nexport const setSignUpErrorAC = (error: string) => {\r\n    return {type: 'SET-ERROR', error} as const\r\n}\r\n\r\n\r\nexport const signUpTC = (email: string, password: string) => (dispatch: Dispatch<ActionsType, ActionsType>) => {\r\n    signUpApi.createNewAccount(email, password)\r\n        .then(res => {\r\n            dispatch(setIsLoggedInAC(true))\r\n        })\r\n        .catch(rej=>{\r\n            dispatch(setSignUpErrorAC(rej.response.data.error))\r\n        })\r\n}\r\n\r\nexport type SetIsLoggedInActionType = ReturnType<typeof setIsLoggedInAC>\r\nexport type SetSignUpErrorACActionType = ReturnType<typeof setSignUpErrorAC>\r\n\r\ntype ActionsType = SetIsLoggedInActionType | SetSignUpErrorACActionType","import React, {useState} from 'react';\r\nimport SuperButton from \"./sign-up-common/SuperButton/SuperButton\";\r\nimport SuperInputText from \"./sign-up-common/SuperInputText/SuperInputText\";\r\nimport style from './SignUp.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setSignUpErrorAC, signUpTC} from \"../../../1-main/2-bll/signUpReducer\";\r\nimport {AppRootStateType} from \"../../../1-main/2-bll/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../../1-main/1-ui/routes/Routes\";\r\n\r\nfunction SignUp() {\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector<AppRootStateType>((state) => state.signUp.isLoggedIn)\r\n    const signUpError = useSelector<AppRootStateType, string | null>(state => state.signUp.error)\r\n    const [email, setEmail] = useState<string>('')\r\n    const [password, setPassword] = useState<string>('')\r\n    const [confirmPassword, setConfirmPassword] = useState<string>('')\r\n\r\n    const onSignUp = () => {\r\n        password === confirmPassword\r\n            ? dispatch(signUpTC(email, password))\r\n            : dispatch(setSignUpErrorAC('Password mismatch'))\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        onSignUp()\r\n    }\r\n    const onCancel = () => {\r\n        setEmail('')\r\n        setPassword('')\r\n        setConfirmPassword('')\r\n        dispatch(setSignUpErrorAC(''))\r\n    }\r\n\r\n    return (\r\n        <div className={style.signUpContainer} onSubmit={handleSubmit}>\r\n            {isLoggedIn && <Redirect to={PATH.LOGIN}/>}\r\n            <form className={style.signUpForm}>\r\n                <div>\r\n                    <h3>Create a new account</h3>\r\n                    {signUpError && <span className={style.error}>{signUpError}</span>}\r\n                </div>\r\n                <div>\r\n                    <SuperInputText\r\n                        value={email}\r\n                        onChangeText={setEmail}\r\n                        onEnter={onSignUp}\r\n                        type={'text'}\r\n                        placeholder={'Email'}\r\n                    />\r\n                    <SuperInputText\r\n                        value={password}\r\n                        onChangeText={setPassword}\r\n                        onEnter={onSignUp}\r\n                        type={'Password'}\r\n                        placeholder={'Password'}\r\n                    />\r\n                    <SuperInputText\r\n                        value={confirmPassword}\r\n                        onChangeText={setConfirmPassword}\r\n                        onEnter={onSignUp}\r\n                        type={'Password'}\r\n                        placeholder={'Confirm Password'}\r\n                    />\r\n                </div>\r\n                <div className={style.buttonsContainer}>\r\n                    <SuperButton type={'button'} onClick={onCancel} color={'white'}>Cancel</SuperButton>\r\n                    <SuperButton type={'submit'} color={'blue'}>Register</SuperButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp;\r\n","import classes from \"../Profile.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updateUserDataTC} from \"../../../1-main/2-bll/profileReducer\";\r\n\r\ntype ProfileCardPropsType = {\r\n    name: string\r\n    avatar: string\r\n}\r\n\r\nexport function ProfileCard(props: ProfileCardPropsType) {\r\n    const [editModeAvatar, setEditModeAvatar] = useState(false)\r\n    const [editModeName, setEditModeName] = useState(false)\r\n    let [avatar, setAvatar] = useState(props.avatar)\r\n    let [name, setName] = useState(props.name)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className={classes.profile}>\r\n            {\r\n                editModeAvatar\r\n                    ? <input type=\"text\"\r\n                             onBlur={() => {\r\n                                 setEditModeAvatar(false)\r\n                                 if (name && avatar) {\r\n                                     dispatch(updateUserDataTC(name, avatar))\r\n                                 }\r\n                             }}\r\n                             value={avatar}\r\n                             onChange={(e) => setAvatar(e.currentTarget.value)}\r\n                             autoFocus={true}/>\r\n                    : <div className={classes.image}\r\n                           onDoubleClick={() => setEditModeAvatar(true)}>&#9998;<img src={avatar} alt=\"User\"/></div>\r\n            }\r\n            {\r\n                editModeName\r\n                    ? <input type=\"text\"\r\n                             onBlur={() => {\r\n                                 setEditModeName(false)\r\n                                 if (name && avatar) {\r\n                                     dispatch(updateUserDataTC(name, avatar))\r\n                                 }\r\n                             }}\r\n                             value={name}\r\n                             onChange={(e) => setName(e.currentTarget.value)}\r\n                             autoFocus={true}/>\r\n                    : <div className={classes.name} onDoubleClick={() => setEditModeName(true)}>&#9998;{name}</div>\r\n            }\r\n            <div className={classes.description}>{'Front-end developer'}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import classes from \"./Profile.module.css\";\r\nimport React from \"react\";\r\nimport {EntityListType} from \"./Profile\";\r\n\r\ntype ListHeaderPropsType = {\r\n    headers: EntityListType\r\n}\r\n\r\nexport function THead(props: ListHeaderPropsType) {\r\n    return (\r\n        <tr className={classes.listItem}>\r\n            {props.headers.map(h => h === 'Last Updated'\r\n                ? <th>{h}</th>\r\n                : <th>{h}</th>)}\r\n        </tr>\r\n    )\r\n}","import axios from 'axios';\r\nimport {CardPacksType} from \"../2-bll/packsReducer\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true,\r\n})\r\n\r\nexport const packsAPI = {\r\n    getPacks(queryString: string) {\r\n        return instance.get<GetPacksResponseType>(`cards/pack?${queryString}`)\r\n    },\r\n    addPack(name: string) {\r\n        return instance.post<GetPacksResponseType>('cards/pack', {cardsPack: {name: name}})\r\n    },\r\n    deletePack(packId: string) {\r\n        return instance.delete<GetPacksResponseType>(`cards/pack?id=${packId}`)\r\n    },\r\n    updatePack(packId: string) {\r\n        return instance.put<GetPacksResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                _id: packId,\r\n                name: 'German pack'\r\n            }\r\n        })\r\n    },\r\n}\r\n\r\n// types\r\nexport type GetPacksResponseType = {\r\n    cardPacks: Array<CardPacksType>\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n}","import {Dispatch} from 'redux';\r\nimport {GetPacksResponseType, packsAPI} from \"../3-dal/packsAPI\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\n\r\nconst initialState: initialStateType = {\r\n    cardPacks: [],\r\n    cardPacksTotalCount: null,\r\n    maxCardsCount: 1,\r\n    minCardsCount: 0,\r\n    page: null,\r\n    pageCount: null,\r\n    pages: 0,\r\n    queryParams: {\r\n        user_id: null,\r\n        packName: null,\r\n        min: null,\r\n        max: null,\r\n        sortPacks: null,\r\n        page: null,\r\n        pageCount: null\r\n    }\r\n}\r\n\r\nexport const packsReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case \"SET-PACKS\": {\r\n            return {\r\n                ...state,\r\n                cardPacks: [...action.data.cardPacks],\r\n                cardPacksTotalCount: action.data.cardPacksTotalCount,\r\n                maxCardsCount: action.data.maxCardsCount,\r\n                minCardsCount: action.data.minCardsCount,\r\n                page: action.data.page,\r\n                pageCount: action.data.pageCount,\r\n            }\r\n        }\r\n        case \"SET-PAGES\": {\r\n            return {\r\n                ...state,\r\n                pages: action.pages\r\n            }\r\n        }\r\n        case \"SET-PACKS-USER-ID\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    user_id: action.id\r\n                }\r\n            }\r\n        }\r\n        case \"SET-PACKS-NAME-SEARCH\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    packName: action.packName\r\n                }\r\n            }\r\n        }\r\n        case \"SET-PACKS-SORT\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    sortPacks: action.sortOption\r\n                }\r\n            }\r\n        }\r\n        case \"SET-CURRENT-PAGE\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    page: action.page\r\n                }\r\n            }\r\n        }\r\n        case \"SET-PAGE-COUNT\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    pageCount: action.pageCount\r\n                }\r\n            }\r\n        }\r\n        case \"SET-MIN-MAX-CARDS-IN-PACK\": {\r\n            return {\r\n                ...state,\r\n                queryParams: {\r\n                    ...state.queryParams,\r\n                    min: action.min,\r\n                    max: action.max\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// actions\r\nexport const setPacksAC = (data: GetPacksResponseType) => ({type: 'SET-PACKS', data} as const)\r\nexport const setPacksPages = (pages: number) => ({type: 'SET-PAGES', pages} as const)\r\nexport const setPacksUserId = (id: string | null) => ({type: 'SET-PACKS-USER-ID', id} as const)\r\nexport const setPacksNameSearch = (packName: string | null) => ({type: 'SET-PACKS-NAME-SEARCH', packName} as const)\r\nexport const setSortPacksByDate = (sortOption: string | null) => ({type: 'SET-PACKS-SORT', sortOption} as const)\r\nexport const setPacksPageCount = (pageCount: string) => {\r\n    return {type: 'SET-PAGE-COUNT', pageCount} as const\r\n}\r\nexport const setPacksCurrentPage = (page: string) => {\r\n    return {type: 'SET-CURRENT-PAGE', page} as const\r\n}\r\nexport const setMinMaxCardsInPack = (min: string, max: string) => {\r\n    return {type: 'SET-MIN-MAX-CARDS-IN-PACK', min, max} as const\r\n}\r\n\r\n\r\n// thunks\r\nexport const getPacksTC = () => (dispatch: Dispatch<ActionsType, any>, getState: () => AppRootStateType) => {\r\n    //getting obj with optional query params from state which is empty by default\r\n    const optionalsObj = getState().packs.queryParams\r\n\r\n    //creating optional querystring with optional params\r\n    let optionalString = ''\r\n    for (const property in optionalsObj) {\r\n        if (optionalsObj[property] !== null)\r\n            optionalString = optionalString.concat(`&${property}=${optionalsObj[property]}`)\r\n    }\r\n    const finalQueryString = optionalString.slice(1)\r\n    packsAPI.getPacks(finalQueryString)\r\n        .then((res) => {\r\n            dispatch(setPacksAC(res.data))\r\n            dispatch(setPacksPages(res.data.cardPacksTotalCount % res.data.pageCount === 0\r\n                ? res.data.cardPacksTotalCount / res.data.pageCount\r\n                : Math.floor(res.data.cardPacksTotalCount / res.data.pageCount + 1)))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\nexport const addPackTC = (name: string) => (dispatch: Dispatch<ActionsType, any>) => {\r\n    packsAPI.addPack(name)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\nexport const deletePackTC = (packId: string) => (dispatch: Dispatch<ActionsType, any>) => {\r\n    packsAPI.deletePack(packId)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\nexport const updatePackTC = (packId: string) => (dispatch: Dispatch<ActionsType, any>) => {\r\n    packsAPI.updatePack(packId)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        })\r\n}\r\n\r\n// types\r\nexport type CardPacksType = {\r\n    cardsCount: number\r\n    created: string\r\n    more_id: string\r\n    name: string\r\n    private: boolean\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    _id: string\r\n}\r\ntype initialStateType = {\r\n    cardPacks: Array<CardPacksType>\r\n    cardPacksTotalCount: number | null\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number | null\r\n    pageCount: number | null\r\n    pages: number\r\n    queryParams: {\r\n        [key: string]: string | null\r\n    }\r\n}\r\n\r\ntype ActionsType = SetPacksActionType\r\n    | SetPacksUserIdType\r\n    | SetPacksNameSearchType\r\n    | SetSortPacksByDateType\r\n    | SetPacksPagesType\r\n    | SetPacksPageCountType\r\n    | SetPacksCurrentPageType\r\n    | SetMinMaxCardsInPackType\r\n\r\ntype SetPacksActionType = ReturnType<typeof setPacksAC>\r\ntype SetPacksUserIdType = ReturnType<typeof setPacksUserId>\r\ntype SetPacksNameSearchType = ReturnType<typeof setPacksNameSearch>\r\ntype SetSortPacksByDateType = ReturnType<typeof setSortPacksByDate>\r\ntype SetPacksPagesType = ReturnType<typeof setPacksPages>\r\ntype SetPacksPageCountType = ReturnType<typeof setPacksPageCount>\r\ntype SetPacksCurrentPageType = ReturnType<typeof setPacksCurrentPage>\r\ntype SetMinMaxCardsInPackType = ReturnType<typeof setMinMaxCardsInPack>\r\n\r\n\r\n","import classes from \"./Profile.module.css\";\r\nimport React from \"react\";\r\nimport {CardPacksType, deletePackTC, updatePackTC} from \"../../1-main/2-bll/packsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../1-main/2-bll/store\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype ListItemPropsType = {\r\n    items: Array<CardPacksType>\r\n}\r\n\r\n\r\nexport function TBody(props: ListItemPropsType) {\r\n    const dispatch = useDispatch()\r\n    const loggedUserId = useSelector<AppRootStateType, string>(state => state.auth.userId)\r\n\r\n    return (\r\n        <>\r\n            {\r\n                props.items.map((item, index) => {\r\n                    const lastUpdated = item.updated.slice(0, 10)\r\n                    const userName = item.user_name.slice(0, 30)\r\n                    const packId = item._id\r\n\r\n                    const deletePackHandler = () => {\r\n                        dispatch(deletePackTC(packId))\r\n                    }\r\n                    const editPackHandler = () => {\r\n                        dispatch(updatePackTC(packId))\r\n                    }\r\n\r\n                    return <tr className={classes.listItem} key={index}>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.cardsCount}</td>\r\n                        <td>{lastUpdated}</td>\r\n                        <td>{userName}</td>\r\n                        <td>\r\n                            {loggedUserId === item.user_id && <button className={classes.btn} onClick={deletePackHandler}>{'Delete'}</button>}\r\n                            {loggedUserId === item.user_id && <button style={{marginLeft: \"10px\"}} className={classes.btn} onClick={editPackHandler}>{'Edit'}</button>}\r\n                            <NavLink to={`/cards/${item._id}`}><button style={{marginLeft: \"10px\"}}\r\n                                    className={classes.btn}>{'Cards'}</button></NavLink>\r\n                        </td>\r\n                    </tr>\r\n                })\r\n            }\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport {THead} from \"./THead\";\r\nimport {TBody} from \"./TBody\";\r\nimport {EntityListType, ItemsListType} from \"./Profile\";\r\nimport classes from \"./Profile.module.css\";\r\nimport {CardPacksType} from \"../../1-main/2-bll/packsReducer\";\r\n\r\ntype ListPropsType = {\r\n    headers: EntityListType\r\n    items: Array<CardPacksType>\r\n}\r\n\r\nexport function Table(props: ListPropsType) {\r\n    return (\r\n        <table className={classes.table}>\r\n            <THead headers={props.headers}/>\r\n            <TBody items={props.items}/>\r\n        </table>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport function Search() {\r\n    return <input type=\"search\" placeholder=\"Search...\"/>\r\n}","import React from \"react\";\r\n\r\ntype HeaderPropsType = {\r\n    title: string\r\n}\r\n\r\nexport function Header(props: HeaderPropsType) {\r\n    return <h1>{props.title}</h1>\r\n}","import classes from \"./Profile.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nexport function Range() {\r\n    const [value, setValue] = useState(50)\r\n    return (\r\n        <div className={classes.range}>\r\n            <div>Number of cards</div>\r\n            <div><span>{value}</span></div>\r\n            <input type=\"range\" name=\"range\" min=\"0\" max=\"100\" value={value} onChange={e => setValue(+e.currentTarget.value)}/>\r\n        </div>\r\n    )\r\n}","import classes from \"./Profile.module.css\";\r\nimport React from \"react\";\r\n\r\ntype PaginationPropsType = {\r\n    page: number | null\r\n}\r\n\r\nexport function PaginationTest(props: PaginationPropsType) {\r\n\r\n    return (\r\n        <>\r\n            {<span className={classes.pagination}>{props.page}</span>}\r\n        </>\r\n    )\r\n}","import React from 'react';\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <div>\r\n            Loading...\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;\r\n","import React, {useEffect} from 'react';\r\nimport classes from './Profile.module.css';\r\nimport {ProfileCard} from \"./1-ProfileCard/ProfileCard\";\r\nimport {Table} from \"./Table\";\r\nimport {Search} from \"./Search\";\r\nimport {Header} from \"./Header\";\r\nimport {Range} from \"./Range\";\r\nimport {PaginationTest} from \"./Pagination\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../1-main/2-bll/store\";\r\nimport {CardPacksType, getPacksTC} from \"../../1-main/2-bll/packsReducer\";\r\nimport Preloader from \"../../1-main/1-ui/common/Preloader\";\r\n\r\n\r\nfunction Profile() {\r\n    const name = useSelector<AppRootStateType, string>(state => state.profile.name)\r\n    const avatar = useSelector<AppRootStateType, string>(state => state.profile.avatar)\r\n    const cardPacks = useSelector<AppRootStateType, Array<CardPacksType>>(state => state.packs.cardPacks)\r\n    const page = useSelector<AppRootStateType, number | null>(state => state.packs.page)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getPacksTC())\r\n    }, [dispatch])\r\n\r\n    if (!(name || avatar)) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.page}>\r\n            <aside className={classes.sidebar}>\r\n                <ProfileCard name={name} avatar={avatar}/>\r\n                <Range/>\r\n            </aside>\r\n            <div className={classes.content}>\r\n                <header className={classes.header}>\r\n                    <Header title={`Packs list ${name}`}/>\r\n                    <Search/>\r\n                </header>\r\n                <main className={classes.main}>\r\n                    <Table headers={['Name', 'Cards', 'Last Updated', 'Created by', 'Actions']} items={cardPacks}/>\r\n                </main>\r\n                <footer className={classes.footer}>\r\n                    <PaginationTest page={page}/>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Types\r\nexport type EntityListType = Array<string>\r\nexport type ItemsListType = {\r\n    [key: string]: string\r\n}\r\n\r\n\r\nexport default Profile;\r\n","import axios from \"axios\";\r\n\r\nexport type ForgotRequestType = {\r\n    email: string\r\n    from: string\r\n    message: string\r\n}\r\n\r\nexport type ForgotResponseType = {\r\n    info: string\r\n    success: boolean\r\n    answer: boolean\r\n    html: boolean\r\n}\r\n\r\nexport type SetNewPasswordRequestType = {\r\n    password: string\r\n    resetPasswordToken: string\r\n}\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true\r\n})\r\n\r\nexport const restoreAPI = {\r\n    forgotPassword(requestData: ForgotRequestType) {\r\n        return instance.post<ForgotResponseType>(`auth/forgot`, requestData)\r\n    },\r\n    setNewPassword(requestData: SetNewPasswordRequestType) {\r\n        return instance.post(`auth/set-new-password`, requestData)\r\n    }\r\n}","import {Dispatch} from \"redux\";\r\nimport {ForgotRequestType, restoreAPI, SetNewPasswordRequestType} from \"../3-dal/restoreAPI\";\r\n\r\ntype InitStateType = typeof initialState\r\n\r\nconst initialState = {\r\n    email: null as string | null,\r\n    restoreEmailSendSuccess: false,\r\n    newPasswordSuccess: false\r\n}\r\n\r\nexport const restoreReducer = (state: InitStateType = initialState, action: UnionRestoreAT) => {\r\n    switch (action.type) {\r\n        case \"restore/SET-RECEIVER-EMAIL\": {\r\n            return {...state, email: action.email}\r\n        }\r\n        case \"restore/EMAIL-SEND-SUCCESS\": {\r\n            return {...state, restoreEmailSendSuccess: action.success}\r\n        }\r\n        case \"restore/CHANGE-PASSWORD-SUCCESS\":\r\n            return {...state, newPasswordSuccess: action.success}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst recoveryMessage = `<div style=\"padding: 15px\">Password recovery link: <a href=\"https://ffiillaattoovv.github.io/flashcards#/newPassword/$token$\">click here</a></div>`\r\nconst recoveryMessageAddressFrom = `NEKO ADMIN <ai73a@yandex.by>`\r\n//actions\r\nexport const setReceiverEmailAC = (email: string) => {\r\n    return {type: 'restore/SET-RECEIVER-EMAIL', email} as const\r\n}\r\nexport const emailSendSuccessAC = (success: boolean) => {\r\n    return {type: 'restore/EMAIL-SEND-SUCCESS', success} as const\r\n}\r\nexport const changePasswordSuccessAC = (success: boolean) => {\r\n    return {type: 'restore/CHANGE-PASSWORD-SUCCESS', success} as const\r\n}\r\n//thunks\r\nexport const forgotPasswordTC = (email: string) => async (dispatch: Dispatch<UnionRestoreAT, null>) => {\r\n    try {\r\n        let requestObj: ForgotRequestType = {\r\n            email: email,\r\n            from: recoveryMessageAddressFrom,\r\n            message: recoveryMessage\r\n        }\r\n        const response = await restoreAPI.forgotPassword(requestObj)\r\n        dispatch(setReceiverEmailAC(email))\r\n        dispatch(emailSendSuccessAC(response.data.success))\r\n        dispatch(changePasswordSuccessAC(false))\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const setNewPasswordTC = (password: string, token: string) => async (dispatch: Dispatch<UnionRestoreAT, null>) => {\r\n    try {\r\n        let requestObj: SetNewPasswordRequestType = {\r\n            password: password,\r\n            resetPasswordToken: token\r\n        }\r\n        await restoreAPI.setNewPassword(requestObj)\r\n        dispatch(changePasswordSuccessAC(true))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\n//action types\r\nexport type UnionRestoreAT = SetReceiverEmailAT | EmailSendSuccessACAT | ChangePasswordSuccessAT\r\ntype SetReceiverEmailAT = ReturnType<typeof setReceiverEmailAC>\r\ntype EmailSendSuccessACAT = ReturnType<typeof emailSendSuccessAC>\r\ntype ChangePasswordSuccessAT = ReturnType<typeof changePasswordSuccessAC>","import React, {ChangeEvent, useState, MouseEvent} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {forgotPasswordTC} from \"../../../1-main/2-bll/restoreReducer\";\r\nimport {AppRootStateType} from \"../../../1-main/2-bll/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../../1-main/1-ui/routes/Routes\";\r\nimport style from '../Restore.module.css';\r\nimport SuperInputText from \"../../1-auth/2-signUp/sign-up-common/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../1-auth/2-signUp/sign-up-common/SuperButton/SuperButton\";\r\n\r\nfunction ResetPassword() {\r\n\r\n    const dispatch = useDispatch()\r\n    const restoreEmailSendSuccess = useSelector<AppRootStateType, boolean>(state => state.restore.restoreEmailSendSuccess)\r\n\r\n    const [emailAddress, setEmailAddress] = useState('')\r\n\r\n    const onChangeEmail = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setEmailAddress(e.currentTarget.value)\r\n    }\r\n\r\n    const submitEmail = (e: MouseEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        dispatch(forgotPasswordTC(emailAddress))\r\n    }\r\n\r\n    if (restoreEmailSendSuccess) {\r\n        return <Redirect to={PATH.CHECK_EMAIL}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.restoreContainer}>\r\n            <form className={style.restoreForm} onSubmit={submitEmail}>\r\n                <div className= {style.headers}>\r\n                    <h3>Forgot your password</h3>\r\n                    <h3>or want to change it?</h3>\r\n                    <h4>Type your email and we will send you instructions</h4>\r\n                </div>\r\n                <div>\r\n                    <SuperInputText\r\n                        value={emailAddress}\r\n                        onChange={onChangeEmail}\r\n                        type={'text'}\r\n                        placeholder={'Email'}\r\n                    />\r\n                </div>\r\n                <div className={style.buttonsContainer}>\r\n                    <SuperButton type={'submit'} color={'blue'}>Send instructions</SuperButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React, {ChangeEvent, useState, MouseEvent} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../1-main/2-bll/store\";\r\nimport {setNewPasswordTC} from \"../../../1-main/2-bll/restoreReducer\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {PATH} from \"../../../1-main/1-ui/routes/Routes\";\r\nimport style from \"../Restore.module.css\";\r\nimport SuperInputText from \"../../1-auth/2-signUp/sign-up-common/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../1-auth/2-signUp/sign-up-common/SuperButton/SuperButton\";\r\n\r\nfunction NewPassword() {\r\n\r\n    const dispatch = useDispatch()\r\n    const {token} = useParams<{ token: string }>()\r\n    const changePasswordSuccess = useSelector<AppRootStateType, boolean>(state => state.restore.newPasswordSuccess)\r\n\r\n    const [newPassword, setNewPassword] = useState('')\r\n\r\n    const onChangeNewPassword = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setNewPassword(e.currentTarget.value)\r\n    }\r\n\r\n    const submitNewPassword = (e: MouseEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        dispatch(setNewPasswordTC(newPassword, token))\r\n    }\r\n\r\n    if (changePasswordSuccess) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.restoreContainer}>\r\n            <form className={style.restoreForm} onSubmit={submitNewPassword}>\r\n                <div>\r\n                    <h3>Create new password</h3>\r\n                </div>\r\n                <div>\r\n                    <SuperInputText\r\n                        value={newPassword}\r\n                        onChange={onChangeNewPassword}\r\n                        type={'password'}\r\n                        placeholder={'New password'}\r\n                    />\r\n                </div>\r\n                <p>Create new password and log in with it afterwards</p>\r\n                <div className={style.buttonsContainer}>\r\n                    <SuperButton type={'submit'} color={'blue'}>Create new password</SuperButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewPassword;\r\n","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../1-main/2-bll/store\";\r\nimport style from '../Restore.module.css';\r\n\r\nfunction CheckEmail() {\r\n\r\n    const emailOfReceiver = useSelector<AppRootStateType, string | null>(state => state.restore.email)\r\n\r\n    return (\r\n        <div className={style.restoreContainer}>\r\n            <div className={style.restoreForm}>\r\n                <h3>Check Email</h3>\r\n                <img src=\"\" alt=\"letter img\"/>\r\n                <p>We've sent an Email with instructions to {emailOfReceiver}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CheckEmail;\r\n","import React, {ChangeEvent, InputHTMLAttributes, DetailedHTMLProps} from 'react'\r\n\r\ntype DefaultRadioPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperRadioPropsType = DefaultRadioPropsType & {\r\n    options?: any[]\r\n    onChangeOption?: (option: any) => void\r\n}\r\n\r\nconst SuperRadio: React.FC<SuperRadioPropsType> = (\r\n    {\r\n        type, name,\r\n        options, value,\r\n        onChange, onChangeOption,\r\n        ...restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        // onChange, onChangeOption\r\n        onChange && onChange(e)\r\n        onChangeOption && onChangeOption(e.currentTarget.value)\r\n    }\r\n\r\n    // map options with key\r\n    const mappedOptions: any[] = options ? options.map((o, i) => (\r\n        <label key={name + '-' + i}>\r\n            <input\r\n                type={'radio'}\r\n                name={name}\r\n                checked={o === value}\r\n                value={o}\r\n                onChange={onChangeCallback}\r\n                // name, checked, value, onChange\r\n            />\r\n            {`${o} `}\r\n        </label>\r\n    )) : []\r\n\r\n    return (\r\n        <>\r\n            {mappedOptions}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SuperRadio","import React, {ChangeEvent} from 'react';\r\nimport styles from \"./SearchBar.module.css\";\r\nimport RadioOptions from \"./RadioOptions\";\r\n\r\ntype SearchBarProps = {\r\n    searchValue: string\r\n    onChangeSearchValue: (e: ChangeEvent<HTMLInputElement>) => void\r\n    onClickSearch: () => void\r\n    onClickReset: () => void\r\n    searchOptions?: string[]\r\n    searchOption?: string\r\n    setSearchOption?: (option: string) => void\r\n}\r\n\r\nexport const SearchBar = ({searchValue, onChangeSearchValue, onClickSearch, onClickReset, searchOption, setSearchOption, searchOptions}: SearchBarProps) => {\r\n    return (\r\n        <div className={styles.searchInput}>\r\n            {searchOptions && <RadioOptions name={'radio'} options={searchOptions} value={searchOption}\r\n                          onChangeOption={setSearchOption}/>}\r\n            <input className={styles.letterInput} value={searchValue} onChange={onChangeSearchValue}/>\r\n            <button onClick={onClickSearch}>Search</button>\r\n            <button onClick={onClickReset}>Reset</button>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\nimport {paginate} from \"../utils/paginationAlgorithm\";\r\n\r\ntype PaginationPropsType = {\r\n    pageCountArray: string[]\r\n    setPageCountCallback: (pageCount: string) => () => void\r\n    pages: number\r\n    setPage: (page: number) => () => void\r\n    totalItems?: number\r\n    currentPage?: number\r\n    pageSize?: number\r\n}\r\n\r\nexport const Pagination = ({pageCountArray, setPageCountCallback, pages, setPage, totalItems, currentPage, pageSize}: PaginationPropsType) => {\r\n    //pageCount\r\n    const pageCountButtons = pageCountArray.map(pc => <button key={Math.random() + pc} onClick={setPageCountCallback(pc)}>{pc}</button>)\r\n\r\n    //pages\r\n    let pagesTotalCount = []\r\n    if (pages < 7) {\r\n        for (let i = 1; i <= pages; i++) {\r\n            pagesTotalCount.push(i)\r\n        }\r\n    } else {\r\n        let {pages, totalPages} = paginate(totalItems!, currentPage, pageSize, 7)\r\n        pagesTotalCount = [...pages]\r\n        if (pagesTotalCount[0] !== 1) {\r\n            pagesTotalCount[0] = 1\r\n        }\r\n        if (pagesTotalCount[pagesTotalCount.length - 1] !== totalPages) {\r\n            pagesTotalCount[pagesTotalCount.length - 1] = totalPages\r\n        }\r\n    }\r\n\r\n    const pagesElements = pagesTotalCount.map(p => <button key={Math.random() + p} onClick={setPage(p)}>{p}</button>)\r\n\r\n    return (\r\n        <div className={styles.pagesFooter}>\r\n            <div>\r\n                Items on page:{pageCountButtons}\r\n            </div>\r\n            <div>\r\n                <h4>Current page {currentPage}</h4>\r\n            </div>\r\n            <div>\r\n                Pages:{pagesElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}","export function paginate(\r\n    totalItems: number,\r\n    currentPage: number = 1,\r\n    pageSize: number = 10,\r\n    maxPages: number = 10\r\n) {\r\n    // calculate total pages\r\n    let totalPages = Math.ceil(totalItems / pageSize);\r\n\r\n    // ensure current page isn't out of range\r\n    if (currentPage < 1) {\r\n        currentPage = 1;\r\n    } else if (currentPage > totalPages) {\r\n        currentPage = totalPages;\r\n    }\r\n\r\n    let startPage: number, endPage: number;\r\n    if (totalPages <= maxPages) {\r\n        // total pages less than max so show all pages\r\n        startPage = 1;\r\n        endPage = totalPages;\r\n    } else {\r\n        // total pages more than max so calculate start and end pages\r\n        let maxPagesBeforeCurrentPage = Math.floor(maxPages / 2);\r\n        let maxPagesAfterCurrentPage = Math.ceil(maxPages / 2) - 1;\r\n        if (currentPage <= maxPagesBeforeCurrentPage) {\r\n            // current page near the start\r\n            startPage = 1;\r\n            endPage = maxPages;\r\n        } else if (currentPage + maxPagesAfterCurrentPage >= totalPages) {\r\n            // current page near the end\r\n            startPage = totalPages - maxPages + 1;\r\n            endPage = totalPages;\r\n        } else {\r\n            // current page somewhere in the middle\r\n            startPage = currentPage - maxPagesBeforeCurrentPage;\r\n            endPage = currentPage + maxPagesAfterCurrentPage;\r\n        }\r\n    }\r\n\r\n    // calculate start and end item indexes\r\n    let startIndex = (currentPage - 1) * pageSize;\r\n    let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n    // create an array of pages to ng-repeat in the pager control\r\n    let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\r\n\r\n    // return object with all pager properties required by the view\r\n    return {\r\n        totalItems: totalItems,\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        totalPages: totalPages,\r\n        startPage: startPage,\r\n        endPage: endPage,\r\n        startIndex: startIndex,\r\n        endIndex: endIndex,\r\n        pages: pages\r\n    };\r\n}","import React from 'react'\r\nimport Slider from \"antd/lib/slider\";\r\nimport 'antd/dist/antd.css';\r\n\r\ntype DoubleRangePropsType = {\r\n    onChangeRange?: (value: [number, number]) => void\r\n    value?: [number, number]\r\n    min?: number\r\n    max?: number\r\n    step?: number\r\n    // min, max, step, disable, ...\r\n}\r\n\r\nexport const DoubleRange: React.FC<DoubleRangePropsType> = (\r\n    {\r\n        onChangeRange, value,min, max, step\r\n        // min, max, step, disable, ...\r\n    }\r\n) => {\r\n    const onChangeCallback = (value: [number, number]) => {\r\n        onChangeRange && onChangeRange(value)\r\n    }\r\n    // сделать самому, можно подключать библиотеки\r\n    return (\r\n        <Slider style={{width: \"500px\"}} range={true} value={value} onChange={onChangeCallback} min={min} max={max} step={step}/>\r\n    )\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../../2-features/3-cards/Cards.module.css\";\r\nimport {DoubleRange} from \"./DoubleRange\";\r\n\r\ntype RangeFilterPropsType = {\r\n    minValue: number\r\n    maxValue: number\r\n    onChangeRangeDouble: ([num1, num2]: number[]) => void\r\n    onClickGradeRangeFilter: () => void\r\n    min?: number\r\n    max?: number\r\n    step?: number\r\n}\r\n\r\nexport const RangeFilter = (props: RangeFilterPropsType) => {\r\n    return  (\r\n        <div className={styles.rangeContainer}>\r\n            <span>{props.minValue}</span>\r\n            <DoubleRange value={[props.minValue, props.maxValue]} onChangeRange={props.onChangeRangeDouble} min={props.min} max={props.max} step={props.step}/>\r\n            <span>{props.maxValue}</span>\r\n            <button onClick={props.onClickGradeRangeFilter}>Filter</button>\r\n        </div>\r\n    )\r\n}","import React, {Dispatch, ReactChild, SetStateAction} from 'react';\r\nimport s from \"./Modal.module.css\";\r\n\r\n\r\nconst Modal = (props: ModalPropsType) => {\r\n\r\n    return (\r\n        <div className={props.active ? `${s.modal} ${s.active}` : `${s.modal}`}\r\n             onClick={() => {props.setActive(false)}}>\r\n            <div className={props.active ? `${s.modalContent} ${s.active}` : `${s.modalContent}`}\r\n                 onClick={e => e.stopPropagation()}>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n\r\n// types\r\n\r\ntype ModalPropsType = {\r\n    active: boolean\r\n    setActive: Dispatch<SetStateAction<boolean>>\r\n    children: ReactChild\r\n}","import React, {Dispatch, SetStateAction, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from \"../Modal.module.css\";\r\n\r\nexport const ModalWithOneInput = (props: ModalWithOneInputPropsType) => {\r\n    const [packValue, setPackValue] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    const sendAddPack = () => {\r\n        dispatch(props.action(packValue))\r\n        props.setModalActive(false)\r\n        setPackValue('')\r\n    }\r\n\r\n    return (\r\n        <div className={s.childrenContainer}>\r\n            <h2>Add new pack</h2>\r\n            <fieldset className={s.fieldset}>\r\n                <legend>Name pack</legend>\r\n                <input type=\"text\" value={packValue}\r\n                       onChange={(e) => setPackValue(e.currentTarget.value)}/>\r\n            </fieldset>\r\n            <div className={s.btnContainer}>\r\n                <button className={s.cancelBtn} onClick={() => props.setModalActive(false)}>Cancel</button>\r\n                <button className={s.saveBtn} onClick={sendAddPack}>Save</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// types\r\ntype ModalWithOneInputPropsType = {\r\n    action: Function\r\n    setModalActive: Dispatch<SetStateAction<boolean>>\r\n}","import React, {ChangeEvent, useState} from 'react';\r\nimport classes from \"../2-profile/Profile.module.css\";\r\nimport {Header} from \"../2-profile/Header\";\r\nimport {Table} from \"../2-profile/Table\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../1-main/2-bll/store\";\r\nimport {\r\n    addPackTC,\r\n    CardPacksType,\r\n    getPacksTC,\r\n    setMinMaxCardsInPack,\r\n    setPacksCurrentPage,\r\n    setPacksNameSearch,\r\n    setPacksPageCount,\r\n    setPacksUserId,\r\n    setSortPacksByDate\r\n} from \"../../1-main/2-bll/packsReducer\";\r\nimport {SearchBar} from \"../../1-main/1-ui/common/SearchBar\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../1-main/1-ui/routes/Routes\";\r\nimport {Pagination} from \"../../1-main/1-ui/common/Pagination\";\r\nimport {RangeFilter} from \"../../1-main/1-ui/common/RangeFilter\";\r\nimport Modal from \"../5-modal/Modal\";\r\nimport {ModalWithOneInput} from \"../5-modal/children/ModalWithOneInput\";\r\n\r\n\r\nconst Packs = () => {\r\n    const cardPacks = useSelector<AppRootStateType, Array<CardPacksType>>(state => state.packs.cardPacks)\r\n    const userId = useSelector<AppRootStateType, string>(state => state.auth.userId)\r\n    const [modalActive, setModalActive] = useState(false)\r\n    const pages = useSelector<AppRootStateType, number>(state => state.packs.pages)\r\n    const page = useSelector<AppRootStateType, number | null>(state => state.packs.page)\r\n    const pageCount = useSelector<AppRootStateType, number | null>(state => state.packs.pageCount)\r\n    const totalPacks = useSelector<AppRootStateType, number | null>(state => state.packs.cardPacksTotalCount)\r\n    const minCardsCount = useSelector<AppRootStateType, number>(state => state.packs.minCardsCount)\r\n    const maxCardsCount = useSelector<AppRootStateType, number>(state => state.packs.maxCardsCount)\r\n    const dispatch = useDispatch()\r\n    const [searchValue, setSearchValue] = useState('')\r\n    const [minCardValue, setMinCardValue] = useState(minCardsCount)\r\n    const [maxCardValue, setMaxCardValue] = useState(maxCardsCount)\r\n\r\n    if (cardPacks.length === 0) {\r\n        return <Redirect to={PATH.PROFILE}/>\r\n    }\r\n\r\n    //add new pack\r\n    const addNewPackHandler = () => {\r\n        setModalActive(true)\r\n    }\r\n    //end add new pack\r\n\r\n    //get packs personal or all of them\r\n    const getMyPacksHandler = () => {\r\n        dispatch(setPacksUserId(userId))\r\n        dispatch(getPacksTC())\r\n    }\r\n    const getAllPacksHandler = () => {\r\n        dispatch(setPacksUserId(null))\r\n        dispatch(getPacksTC())\r\n    }\r\n    //end get packs personal or all of them\r\n\r\n    //search packs by name\r\n    const onChangeSearchValue = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setSearchValue(e.currentTarget.value)\r\n    }\r\n    const onClickSearch = () => {\r\n        dispatch(setPacksNameSearch(searchValue))\r\n        dispatch(getPacksTC())\r\n    }\r\n    const onClickReset = () => {\r\n        setSearchValue('')\r\n        dispatch(setPacksNameSearch(null))\r\n        dispatch(getPacksTC())\r\n    }\r\n    //end search packs by name\r\n\r\n    //sort packs by updated date\r\n    const onClickEarliestPacksFirst = () => {\r\n        dispatch(setSortPacksByDate('1updated'))\r\n        dispatch(getPacksTC())\r\n    }\r\n    const onClickLatestPacksFirst = () => {\r\n        dispatch(setSortPacksByDate('0updated'))\r\n        dispatch(getPacksTC())\r\n    }\r\n    //end sort packs by updated date\r\n\r\n    //pagination\r\n    //pageCount\r\n    const setPageCountCallback = (pageCount: string) => {\r\n        return () => {\r\n            dispatch(setPacksPageCount(pageCount))\r\n            dispatch(getPacksTC())\r\n        }\r\n    }\r\n    //end page count\r\n    //pages\r\n    const setPage = (page: number) => {\r\n        return () => {\r\n            dispatch(setPacksCurrentPage(page.toString()))\r\n            dispatch(getPacksTC())\r\n        }\r\n    }\r\n    //end pages\r\n    //end pagination\r\n\r\n    //range filter by cards number\r\n    const onChangeCardsRangeDouble = ([num1, num2]: number[]) => {\r\n        setMinCardValue(num1)\r\n        setMaxCardValue(num2)\r\n    }\r\n\r\n    const onClickTotalCardsRangeFilter = () => {\r\n        dispatch(setMinMaxCardsInPack(minCardValue.toString(), maxCardValue.toString()))\r\n        dispatch(getPacksTC())\r\n    }\r\n    //end range filter by cards number\r\n\r\n    return (\r\n        <div className={classes.page}>\r\n            <aside className={classes.sidebar}>\r\n                <div className={classes.profile}>\r\n                    <div style={{padding: \"80px\"}}>\r\n                        <button onClick={getMyPacksHandler}>My</button>\r\n                        <button onClick={getAllPacksHandler}>All</button>\r\n                    </div>\r\n                </div>\r\n                <RangeFilter minValue={minCardValue}\r\n                             maxValue={maxCardValue}\r\n                             onChangeRangeDouble={onChangeCardsRangeDouble}\r\n                             onClickGradeRangeFilter={onClickTotalCardsRangeFilter}\r\n                             min={minCardsCount}\r\n                             max={maxCardsCount}\r\n                             step={1}\r\n                />\r\n            </aside>\r\n            <div className={classes.content}>\r\n                <header className={classes.header}>\r\n                    <Header title={'Packs list'}/>\r\n                    <div className={classes.headerFeatures}>\r\n                        <SearchBar searchValue={searchValue}\r\n                                   onChangeSearchValue={onChangeSearchValue}\r\n                                   onClickSearch={onClickSearch}\r\n                                   onClickReset={onClickReset}\r\n                        />\r\n                        <button style={{marginLeft: \"50px\"}} onClick={addNewPackHandler}>Add new pack</button>\r\n                    </div>\r\n                </header>\r\n                <main className={classes.main}>\r\n                    <div className={classes.sortButtons}>\r\n                        <span>Sort by date:</span>\r\n                        <button onClick={onClickEarliestPacksFirst}>Earliest</button>\r\n                        <button onClick={onClickLatestPacksFirst}>Latest</button>\r\n                    </div>\r\n                    <Table headers={['Name', 'Cards', 'Last Updated', 'Created by', 'Actions']} items={cardPacks}/>\r\n                </main>\r\n                <footer className={classes.footer}>\r\n                    <Pagination pageCountArray={['3', '7', '15', '30']}\r\n                                setPageCountCallback={setPageCountCallback}\r\n                                pages={pages}\r\n                                setPage={setPage}\r\n                                totalItems={totalPacks!}\r\n                                currentPage={page!}\r\n                                pageSize={pageCount!}\r\n                    />\r\n                </footer>\r\n            </div>\r\n            <Modal active={modalActive} setActive={setModalActive}>\r\n                <ModalWithOneInput action={addPackTC} setModalActive={setModalActive}/>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Packs;","import axios from \"axios\";\r\nimport {CardType} from \"../2-bll/cardsReducer\";\r\n\r\ntype CardsResponseType = {\r\n    cards: CardType[]\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    packUserId: string\r\n}\r\nexport type AddCardDataType = {\r\n    cardsPack_id: string\r\n    question?: string\r\n    answer?: string\r\n    grade?: number\r\n    shots?: number\r\n    rating?: number\r\n    answerImg?: string\r\n    questionImg?: string\r\n    questionVideo?: string\r\n    answerVideo?: string\r\n    type?: string\r\n}\r\nexport type RequestAddCardType = {\r\n    card: AddCardDataType\r\n}\r\nexport type UpdateCardDataType = {\r\n    _id: string\r\n    question?: string\r\n    answer?: string\r\n    grade?: number\r\n    shots?: number\r\n    rating?: number\r\n    answerImg?: string\r\n    questionImg?: string\r\n    questionVideo?: string\r\n    answerVideo?: string\r\n    type?: string\r\n    comments?: string\r\n}\r\nexport type RequestUpdateCardType = {\r\n    card: UpdateCardDataType\r\n}\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true\r\n})\r\n\r\nexport const cardsAPI = {\r\n    getCards(cardsPack_id: string, optionals?: string) {\r\n        let queryString = `cards/card?cardsPack_id=${cardsPack_id}`\r\n        if (optionals) {\r\n            queryString = queryString.concat(optionals)\r\n        }\r\n        return instance.get<CardsResponseType>(queryString)\r\n    },\r\n    addCard(data: RequestAddCardType) {\r\n        return instance.post(`cards/card`, data)\r\n    },\r\n    deleteCard(id: string) {\r\n        return instance.delete(`cards/card/?id=${id}`)\r\n    },\r\n    updateCard(data: RequestUpdateCardType) {\r\n        return instance.put(`cards/card`, data)\r\n    }\r\n}","import {Dispatch} from \"redux\";\r\nimport {AddCardDataType, cardsAPI, RequestAddCardType, RequestUpdateCardType} from \"../3-dal/cardsAPI\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\ntype InitStateType = typeof initState\r\nexport type CardType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n}\r\ntype QueryParamsObjType = {\r\n    [key: string]: string\r\n}\r\n\r\ntype FetchCardsType = ReturnType<typeof fetchCards>\r\ntype SetInitType = ReturnType<typeof setInit>\r\ntype SetPagesType = ReturnType<typeof setPages>\r\ntype SetSortCardsType = ReturnType<typeof setSortCards>\r\ntype SetPageCountType = ReturnType<typeof setPageCount>\r\ntype SetCurrentPageType = ReturnType<typeof setCurrentPage>\r\ntype SetMinMaxGradeType = ReturnType<typeof setMinMaxGrade>\r\ntype SetQuestionSearchType = ReturnType<typeof setQuestionSearch>\r\ntype SetAnswerSearchType = ReturnType<typeof setAnswerSearch>\r\ntype ActionsType = FetchCardsType | SetInitType | SetSortCardsType | SetPageCountType | SetPagesType | SetCurrentPageType | SetMinMaxGradeType | SetQuestionSearchType | SetAnswerSearchType\r\n\r\nconst initState = {\r\n    cards: [] as CardType[],\r\n    queryParamsObject: {\r\n        cardAnswer: '',\r\n        cardQuestion: '',\r\n        min: '',\r\n        max: '',\r\n        sortCards: '',\r\n        page: '',\r\n        pageCount: ''\r\n    } as QueryParamsObjType,\r\n    pages: 0 as number,\r\n    pageCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    cardsTotalCount: 0 as number,\r\n    packUserId: null as string | null,\r\n    cardsPack_id: '',\r\n    init: false\r\n}\r\n\r\nexport const cardsReducer = (state: InitStateType = initState, action: ActionsType): InitStateType => {\r\n    switch (action.type) {\r\n        case 'cards/FETCH-CARDS': {\r\n            return {\r\n                ...state,\r\n                cards: action.cards,\r\n                packUserId: action.packUserId,\r\n                cardsPack_id: action.cardsPack_id,\r\n                currentPage: action.currentPage,\r\n                pageCount: action.pageCount,\r\n                cardsTotalCount: action.cardsTotalCount,\r\n            }\r\n        }\r\n        case 'cards/SET-INIT': {\r\n            return {...state, init: true}\r\n        }\r\n        case \"cards/SET-PAGES\": {\r\n            return {\r\n                ...state,\r\n                pages: action.pages\r\n            }\r\n        }\r\n        case \"cards/SET-QUERY-SORT-CARDS\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    sortCards: action.sortCards\r\n                }\r\n            }\r\n        }\r\n        case \"cards/SET-QUERY-PAGE-COUNT\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    pageCount: action.pageCount\r\n                }\r\n            }\r\n        }\r\n        case \"cards/SET-CURRENT-PAGE\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    page: action.page\r\n                }\r\n            }\r\n        }\r\n        case \"cards/SET-MIN-MAX-GRADE\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    min: action.min,\r\n                    max: action.max\r\n                }\r\n            }\r\n        }\r\n        case \"cards/SET-QUESTION-SEARCH\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    cardQuestion: action.question\r\n                }\r\n            }\r\n        }\r\n        case \"cards/SET-ANSWER-SEARCH\": {\r\n            return {\r\n                ...state,\r\n                queryParamsObject: {\r\n                    ...state.queryParamsObject,\r\n                    cardAnswer: action.answer\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const fetchCards = (cards: Array<CardType>, packUserId: string, cardsPack_id: string, currentPage: number, pageCount: number, cardsTotalCount: number) => {\r\n    return {type: 'cards/FETCH-CARDS', cards, packUserId, cardsPack_id, currentPage, pageCount, cardsTotalCount} as const\r\n}\r\nexport const setInit = () => {\r\n    return {type: 'cards/SET-INIT'} as const\r\n}\r\nexport const setPages = (pages: number) => {\r\n    return {type: 'cards/SET-PAGES', pages} as const\r\n}\r\nexport const setSortCards = (sortCards: '1grade' | '0grade') => {\r\n    return {type: 'cards/SET-QUERY-SORT-CARDS', sortCards} as const\r\n}\r\nexport const setPageCount = (pageCount: string) => {\r\n    return {type: 'cards/SET-QUERY-PAGE-COUNT', pageCount} as const\r\n}\r\nexport const setCurrentPage = (page: string) => {\r\n    return {type: 'cards/SET-CURRENT-PAGE', page} as const\r\n}\r\nexport const setMinMaxGrade = (min: string, max: string) => {\r\n    return {type: 'cards/SET-MIN-MAX-GRADE', min, max} as const\r\n}\r\nexport const setQuestionSearch = (question: string) => {\r\n    return {type: 'cards/SET-QUESTION-SEARCH', question} as const\r\n}\r\nexport const setAnswerSearch = (answer: string) => {\r\n    return {type: 'cards/SET-ANSWER-SEARCH', answer} as const\r\n}\r\n\r\n//thunks\r\nexport const fetchCardsTC = (cardsPack_id: string) => async (dispatch: Dispatch<ActionsType, any>, getState: () => AppRootStateType) => {\r\n    try {\r\n        //getting obj with optional query params from state which is empty by default\r\n        const optionalsObj = getState().cards.queryParamsObject\r\n\r\n        //if we enter another card pack we reset all optional query params\r\n        if (cardsPack_id !== getState().cards.cardsPack_id) {\r\n            for (const property in optionalsObj) {\r\n                optionalsObj[property] = ''\r\n            }\r\n        }\r\n\r\n        //creating optional querystring with optional params\r\n        let optionalString = ''\r\n        for (const property in optionalsObj) {\r\n            if (optionalsObj[property] !== '')\r\n                optionalString = optionalString.concat(`&${property}=${optionalsObj[property]}`)\r\n        }\r\n\r\n        //fetch request with all id and optional query params if they are present\r\n        const response = await cardsAPI.getCards(cardsPack_id, optionalString)\r\n\r\n        //setting necessary data into state\r\n        dispatch(fetchCards(response.data.cards, response.data.packUserId, cardsPack_id, response.data.page, response.data.pageCount, response.data.cardsTotalCount))\r\n\r\n        //setting pages count depending on total amount of cards and pageCount value\r\n        dispatch(setPages(response.data.cardsTotalCount % response.data.pageCount !== 0 || response.data.cardsTotalCount === 0\r\n            ? Math.floor(response.data.cardsTotalCount / response.data.pageCount + 1)\r\n            : response.data.cardsTotalCount / response.data.pageCount))\r\n    } catch (e) {\r\n        console.log(e)\r\n    } finally {\r\n        dispatch(setInit())\r\n    }\r\n}\r\n\r\nexport const addCardTC = (data: RequestAddCardType) => async (dispatch: Dispatch<ActionsType, any>) => {\r\n    try {\r\n        await cardsAPI.addCard(data)\r\n        dispatch(fetchCardsTC(data.card.cardsPack_id))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const deleteCardTC = (id: string, cardsPack_id: string) => async (dispatch: Dispatch<ActionsType, any>, getState: () => AppRootStateType) => {\r\n    try {\r\n        await cardsAPI.deleteCard(id)\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const editCardTC = (data: RequestUpdateCardType, cardsPack_id: string) => async (dispatch: Dispatch<ActionsType, any>) => {\r\n    try {\r\n        await cardsAPI.updateCard(data)\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n","export const formatDate = (date: string) => {\r\n    let day = date.slice(8, 10)\r\n    let month = date.slice(5, 7)\r\n    let year = date.slice(0, 4)\r\n    return `${day}.${month}.${year}`\r\n}","import React, {Dispatch, SetStateAction, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {AddCardDataType} from \"../../../1-main/3-dal/cardsAPI\";\r\nimport s from \"../Modal.module.css\";\r\n\r\nexport const ModalWithTwoInput = (props: ModalWithTwoInputPropsType) => {\r\n    const [questionValue, setQuestionValue] = useState('')\r\n    const [answerValue, setAnswerValue] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    const sendAddCard = () => {\r\n        const card: AddCardDataType = {\r\n            cardsPack_id: props.cardsPack_id,\r\n            question: questionValue,\r\n            answer: answerValue\r\n        }\r\n        dispatch(props.action({card}))\r\n        props.setModalActive(false)\r\n        setQuestionValue('')\r\n        setAnswerValue('')\r\n    }\r\n\r\n    return (\r\n        <div className={s.childrenContainer}>\r\n            <h2>Card info</h2>\r\n            <fieldset className={s.fieldset}>\r\n                <legend>Question</legend>\r\n                <input type=\"text\" value={questionValue}\r\n                       onChange={(e) => setQuestionValue(e.currentTarget.value)}/>\r\n            </fieldset>\r\n            <fieldset className={s.fieldset}>\r\n                <legend>Answer</legend>\r\n                <input type=\"text\" value={answerValue}\r\n                       onChange={(e) => setAnswerValue(e.currentTarget.value)}/>\r\n            </fieldset>\r\n            <div className={s.btnContainer}>\r\n                <button className={s.cancelBtn} onClick={() => props.setModalActive(false)}>Cancel</button>\r\n                <button className={s.saveBtn} onClick={sendAddCard}>Save</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n// types\r\ntype ModalWithTwoInputPropsType = {\r\n    cardsPack_id: string\r\n    action: Function\r\n    setModalActive: Dispatch<SetStateAction<boolean>>\r\n}","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    addCardTC,\r\n    CardType,\r\n    deleteCardTC,\r\n    editCardTC,\r\n    fetchCardsTC,\r\n    setAnswerSearch,\r\n    setCurrentPage,\r\n    setMinMaxGrade,\r\n    setPageCount,\r\n    setQuestionSearch,\r\n    setSortCards\r\n} from \"../../1-main/2-bll/cardsReducer\";\r\nimport {AppRootStateType} from \"../../1-main/2-bll/store\";\r\nimport styles from './Cards.module.css'\r\nimport {useParams} from \"react-router-dom\";\r\nimport {UpdateCardDataType} from \"../../1-main/3-dal/cardsAPI\";\r\nimport {SearchBar} from \"../../1-main/1-ui/common/SearchBar\";\r\nimport {Pagination} from \"../../1-main/1-ui/common/Pagination\";\r\nimport {formatDate} from \"../../1-main/1-ui/utils/formatDate\";\r\nimport {RangeFilter} from \"../../1-main/1-ui/common/RangeFilter\";\r\nimport Modal from \"../5-modal/Modal\";\r\nimport {ModalWithTwoInput} from \"../5-modal/children/ModalWithTwoInput\";\r\n\r\n\r\nexport function Cards() {\r\n    const dispatch = useDispatch()\r\n    const cards = useSelector<AppRootStateType, CardType[]>(state => state.cards.cards)\r\n    const init = useSelector<AppRootStateType, boolean>(state => state.cards.init)\r\n    const loggedUserId = useSelector<AppRootStateType, string>(state => state.auth.userId)\r\n    const packUserId = useSelector<AppRootStateType, string | null>(state => state.cards.packUserId)\r\n    const pages = useSelector<AppRootStateType, number>(state => state.cards.pages)\r\n    const currentPage = useSelector<AppRootStateType, number>(state => state.cards.currentPage)\r\n    const pageCount = useSelector<AppRootStateType, number>(state => state.cards.pageCount)\r\n    const cardsTotalCount = useSelector<AppRootStateType, number>(state => state.cards.cardsTotalCount)\r\n    const [minValue, setMinValue] = useState(0)\r\n    const [maxValue, setMaxValue] = useState(5)\r\n    const searchOptions = ['by question', 'by answer']\r\n    const [searchOption, setSearchOption] = useState(searchOptions[0])\r\n    const [searchValue, setSearchValue] = useState('')\r\n    const {cardsPack_id} = useParams<{ cardsPack_id: string }>()\r\n\r\n    const [modalActive, setModalActive] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    }, [dispatch, cardsPack_id])\r\n\r\n    if (!init) {\r\n        return <div>Loading</div>\r\n    }\r\n\r\n    //CRUD on cards\r\n    const addCard = () => {\r\n        setModalActive(true)\r\n    }\r\n\r\n    const deleteCard = (cardId: string, packId: string) => {\r\n        return () => {\r\n            dispatch(deleteCardTC(cardId, packId))\r\n        }\r\n    }\r\n\r\n    const editCard = (cardId: string, packId: string) => {\r\n        let card: UpdateCardDataType = {\r\n            _id: cardId,\r\n            question: 'Updated question full of confusion',\r\n            answer: 'Updated Answer but simple as hell'\r\n        }\r\n        return () => {\r\n            dispatch(editCardTC({card}, packId))\r\n        }\r\n    }\r\n    //end CRUD on cards\r\n\r\n    //cardsJSXElements\r\n    let cardsElements = cards.map(card => {\r\n        return <tr key={card._id}>\r\n            <td>{card.question}</td>\r\n            <td>{card.answer}</td>\r\n            <td>{formatDate(card.updated)}</td>\r\n            <td>{card.grade}</td>\r\n            {loggedUserId === packUserId ? <td>\r\n                <button onClick={deleteCard(card._id, card.cardsPack_id)}>Delete</button>\r\n                <button onClick={editCard(card._id, card.cardsPack_id)}>Edit</button>\r\n            </td> : <td></td>}\r\n        </tr>\r\n    })\r\n    //end cardsJSXElements\r\n\r\n    //sort by grade\r\n    const sortHighGrade = () => {\r\n        dispatch(setSortCards('1grade'))\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    }\r\n    const sortLowGrade = () => {\r\n        dispatch(setSortCards('0grade'))\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    }\r\n    //end sort by grade\r\n\r\n    //pagination\r\n    //pageCount -> how many items on page\r\n    const setPageCountCallback = (pageCount: string) => {\r\n        return () => {\r\n            dispatch(setPageCount(pageCount))\r\n            dispatch(fetchCardsTC(cardsPack_id))\r\n        }\r\n    }\r\n    //end pageCount -> how many items on page\r\n    //pages\r\n    const setPage = (page: number) => {\r\n        return () => {\r\n            dispatch(setCurrentPage(page.toString()))\r\n            dispatch(fetchCardsTC(cardsPack_id))\r\n        }\r\n    }\r\n    //end pages\r\n    //end pagination\r\n\r\n    //range\r\n    const onChangeRangeDouble = ([num1, num2]: number[]) => {\r\n        setMinValue(num1)\r\n        setMaxValue(num2)\r\n    }\r\n\r\n    const onClickGradeRangeFilter = () => {\r\n        dispatch(setMinMaxGrade(minValue.toString(), maxValue.toString()))\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    }\r\n    //end range\r\n\r\n    //search\r\n    const onChangeSearchValue = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setSearchValue(e.currentTarget.value)\r\n    }\r\n    const onClickSearch = () => {\r\n        if (searchOption === 'by question') {\r\n            dispatch(setAnswerSearch(''))\r\n            dispatch(setQuestionSearch(searchValue))\r\n            dispatch(fetchCardsTC(cardsPack_id))\r\n        } else {\r\n            dispatch(setQuestionSearch(''))\r\n            dispatch(setAnswerSearch(searchValue))\r\n            dispatch(fetchCardsTC(cardsPack_id))\r\n        }\r\n    }\r\n    const onClickReset = () => {\r\n        setSearchValue('')\r\n        dispatch(setAnswerSearch(''))\r\n        dispatch(setQuestionSearch(''))\r\n        dispatch(fetchCardsTC(cardsPack_id))\r\n    }\r\n    //end search\r\n    return (\r\n        <div className={styles.tableContainer}>\r\n            <SearchBar searchValue={searchValue}\r\n                       onChangeSearchValue={onChangeSearchValue}\r\n                       onClickSearch={onClickSearch}\r\n                       onClickReset={onClickReset}\r\n                       searchOptions={searchOptions}\r\n                       searchOption={searchOption}\r\n                       setSearchOption={setSearchOption}\r\n            />\r\n            <RangeFilter minValue={minValue}\r\n                         maxValue={maxValue}\r\n                         onChangeRangeDouble={onChangeRangeDouble}\r\n                         onClickGradeRangeFilter={onClickGradeRangeFilter}\r\n                         min={0}\r\n                         max={5}\r\n                         step={1}\r\n            />\r\n            <table className={styles.table}>\r\n                <thead>\r\n                <tr>\r\n                    <th>Question</th>\r\n                    <th>Answer</th>\r\n                    <th>Updated</th>\r\n                    <th>Grade <button onClick={sortHighGrade}>high</button>\r\n                        <button onClick={sortLowGrade}>low</button>\r\n                    </th>\r\n                    <th>{loggedUserId === packUserId && <button onClick={addCard}>Add</button>}Actions</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {cardsElements}\r\n                </tbody>\r\n            </table>\r\n            <Pagination pageCountArray={['1', '5', '10', '20']}\r\n                        setPageCountCallback={setPageCountCallback}\r\n                        pages={pages}\r\n                        setPage={setPage}\r\n                        totalItems={cardsTotalCount}\r\n                        currentPage={currentPage}\r\n                        pageSize={pageCount}\r\n            />\r\n            <Modal active={modalActive} setActive={setModalActive}>\r\n                <ModalWithTwoInput cardsPack_id={cardsPack_id} action={addCardTC} setModalActive={setModalActive}/>\r\n            </Modal>\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport Test from '../../../2-features/0-test/Test';\r\nimport Error404 from '../../../2-features/1-auth/2-signUp/sign-up-common/Error404/Error404';\r\nimport Login from '../../../2-features/1-auth/1-login/Login';\r\nimport SignUp from '../../../2-features/1-auth/2-signUp/SignUp';\r\nimport Profile from '../../../2-features/2-profile/Profile';\r\nimport ResetPassword from '../../../2-features/restore/1-resetPassword/ResetPassword';\r\nimport NewPassword from '../../../2-features/restore/2-newPassword/NewPassword';\r\nimport CheckEmail from \"../../../2-features/restore/1-resetPassword/CheckEmail\";\r\nimport Packs from \"../../../2-features/3-packs/Packs\";\r\nimport {Cards} from \"../../../2-features/3-cards/Cards\";\r\n\r\nexport const PATH = {\r\n    LOGIN: '/login',\r\n    SIGN_UP: '/signup',\r\n    PROFILE: '/profile',\r\n    PACKS: '/packs',\r\n    RESET_PASSWORD: '/resetPassword',\r\n    CHECK_EMAIL: '/checkEmail',\r\n    NEW_PASSWORD: '/newPassword/:token',\r\n    CARDS: '/cards/:cardsPack_id',\r\n    TEST: '/test'\r\n}\r\n\r\nfunction Routes() {\r\n    return (\r\n        <div>\r\n            <Switch>\r\n                <Route path={'/'} exact render={() => <Redirect to={PATH.PROFILE}/>}/>\r\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\r\n                <Route path={PATH.SIGN_UP} render={() => <SignUp/>}/>\r\n                <Route path={PATH.PROFILE} render={() => <Profile/>}/>\r\n                <Route path={PATH.PACKS} render={() => <Packs/>}/>\r\n                <Route path={PATH.CARDS} render={() => <Cards/>}/>\r\n                <Route path={PATH.RESET_PASSWORD} render={() => <ResetPassword/>}/>\r\n                <Route path={PATH.CHECK_EMAIL} render={() => <CheckEmail/>}/>\r\n                <Route path={PATH.NEW_PASSWORD} render={() => <NewPassword/>}/>\r\n                <Route path={PATH.TEST} render={() => <Test/>}/>\r\n                <Route path={'*'} render={() => <Error404/>}/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Routes\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './CustomNavLink.module.css'\r\n\r\ntype CustomNavLinkPropsType = {\r\n    title: string,\r\n    to: string\r\n}\r\n\r\nconst CustomNavLink = (props: CustomNavLinkPropsType) => {\r\n    return (\r\n        <div className={style.navLink}>\r\n            <NavLink to={props.to}>{props.title}</NavLink>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default CustomNavLink;","import React from 'react';\r\nimport style from './Header.module.css'\r\nimport {PATH} from '../routes/Routes';\r\nimport CustomNavLink from '../../../2-features/1-auth/2-signUp/sign-up-common/CustomNavLink/CustomNavLink';\r\nimport SuperButton from '../../../2-features/1-auth/2-signUp/sign-up-common/SuperButton/SuperButton';\r\nimport {useDispatch} from 'react-redux';\r\nimport {logoutSuccess} from '../../2-bll/authReducer';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Header() {\r\n    const dispatch = useDispatch()\r\n\r\n    const logoutHandler = () => {\r\n        dispatch(logoutSuccess())\r\n    }\r\n\r\n    return (\r\n        <div className={style.header}>\r\n            <CustomNavLink title={'profile'} to={PATH.PROFILE}/>\r\n            <CustomNavLink title={'packs'} to={PATH.PACKS}/>\r\n            {/*<CustomNavLink title={'sign-up'} to={PATH.SIGN_UP}/>*/}\r\n            {/*<CustomNavLink title={'login'} to={PATH.LOGIN}/>*/}\r\n            <CustomNavLink title={'change password'} to={PATH.RESET_PASSWORD}/>\r\n            {/*<CustomNavLink title={'cards'} to={PATH.CARDS}/>*/}\r\n            <CustomNavLink title={'test'} to={PATH.TEST}/>\r\n            <NavLink to={'/login'}><SuperButton color={\"blue\"} onClick={logoutHandler}>logout</SuperButton></NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport Error404 from '../../../2-features/1-auth/2-signUp/sign-up-common/Error404/Error404';\r\nimport Login from '../../../2-features/1-auth/1-login/Login';\r\nimport SignUp from '../../../2-features/1-auth/2-signUp/SignUp';\r\nimport ResetPassword from '../../../2-features/restore/1-resetPassword/ResetPassword';\r\nimport NewPassword from '../../../2-features/restore/2-newPassword/NewPassword';\r\nimport CheckEmail from \"../../../2-features/restore/1-resetPassword/CheckEmail\";\r\nimport {PATH} from \"./Routes\";\r\n\r\nfunction UnauthorizedRoutes() {\r\n    return (\r\n        <div>\r\n            <Switch>\r\n                <Route path={'/'} exact render={() => <Redirect to={PATH.LOGIN}/>}/>\r\n                <Route path={PATH.SIGN_UP} render={() => <SignUp/>}/>\r\n                <Route path={PATH.RESET_PASSWORD} render={() => <ResetPassword/>}/>\r\n                <Route path={PATH.CHECK_EMAIL} render={() => <CheckEmail/>}/>\r\n                <Route path={PATH.NEW_PASSWORD} render={() => <NewPassword/>}/>\r\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\r\n                <Route path={'*'} render={() => <Error404/>}/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UnauthorizedRoutes\r\n","import React from 'react';\r\nimport Header from './header/Header';\r\nimport Routes from './routes/Routes';\r\nimport {AppRootStateType} from '../2-bll/store';\r\nimport {useSelector} from 'react-redux';\r\nimport UnauthorizedRoutes from \"./routes/UnauthorizedRoutes\";\r\n\r\nfunction Main() {\r\n    const isAuth = useSelector<AppRootStateType, boolean>(state => state.auth.isAuth)\r\n    const isInitialized = useSelector<AppRootStateType, boolean>(state => state.auth.isInitialized)\r\n\r\n    if (!isInitialized) {\r\n        return <div>Loading</div>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                isAuth\r\n                    ?\r\n                    <div>\r\n                        <Header/>\r\n                        <Routes/>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <UnauthorizedRoutes/>\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React, {useEffect} from 'react';\r\nimport './App.module.css';\r\nimport {useDispatch} from 'react-redux';\r\nimport Main from './Main';\r\nimport {getMe} from '../2-bll/authReducer';\r\n\r\n\r\nconst App = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getMe())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Main />\r\n        </div>\r\n    )\r\n}\r\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {authReducer} from './authReducer';\r\nimport {profileReducer} from './profileReducer';\r\nimport {restoreReducer} from './restoreReducer';\r\nimport {signUpReducer} from \"./signUpReducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {cardsReducer} from \"./cardsReducer\";\r\nimport {packsReducer} from \"./packsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    profile: profileReducer,\r\n    restore: restoreReducer,\r\n    signUp: signUpReducer,\r\n    cards: cardsReducer,\r\n    packs: packsReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\n\r\n//@ts-ignore\r\nwindow.store = store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './1-main/1-ui/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport {store} from './1-main/2-bll/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <HashRouter>\r\n          <Provider store={store}>\r\n              <App/>\r\n          </Provider>\r\n      </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Login_loginBlock__--uzg\",\"loginList\":\"Login_loginList__1unfP\",\"loginTitle\":\"Login_loginTitle__2XPJ2\",\"loginInput\":\"Login_loginInput__1STqW\",\"rememberBlock\":\"Login_rememberBlock__1fmrK\",\"forgotLink\":\"Login_forgotLink__ho-ZO\",\"forgotLinkActive\":\"Login_forgotLinkActive__1BuvV\",\"btnBlock\":\"Login_btnBlock__f4D2u\",\"loginText\":\"Login_loginText__1mcpT\",\"signUpLink\":\"Login_signUpLink__1F2wY\",\"signUpLinkActive\":\"Login_signUpLinkActive__3Ber0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restoreContainer\":\"Restore_restoreContainer__pNOwt\",\"restoreForm\":\"Restore_restoreForm__2q58P\",\"headers\":\"Restore_headers__1aMo9\",\"error\":\"Restore_error__2vHkR\",\"buttonsContainer\":\"Restore_buttonsContainer__1MLiq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"SuperInputText_group__2S800\",\"errorInput\":\"SuperInputText_errorInput__34Qzl\",\"error\":\"SuperInputText_error__jx1Vx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableContainer\":\"Cards_tableContainer__t1_wU\",\"table\":\"Cards_table__18PZ6\",\"rangeContainer\":\"Cards_rangeContainer__228OQ\",\"pagesFooter\":\"Cards_pagesFooter__q1mE3\",\"openBtn\":\"Cards_openBtn__2IuWw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUpContainer\":\"SignUp_signUpContainer__3gp3q\",\"signUpForm\":\"SignUp_signUpForm__17AjK\",\"error\":\"SignUp_error__2gvSH\",\"buttonsContainer\":\"SignUp_buttonsContainer__Thwab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__h-veD\",\"white\":\"SuperButton_white__3peMs\",\"blue\":\"SuperButton_blue__5JLOT\",\"red\":\"SuperButton_red__gbQyz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error404_container__3qUyK\",\"main\":\"Error404_main__2H8Cg\",\"fof\":\"Error404_fof__27oWq\",\"type\":\"Error404_type__36aHc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"SuperCheckbox_checkbox__1ar1v\",\"spanClassName\":\"SuperCheckbox_spanClassName__25qhW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchInput\":\"SearchBar_searchInput__179oD\",\"letterInput\":\"SearchBar_letterInput__Q5Bee\"};"],"sourceRoot":""}